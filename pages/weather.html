<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weather - Web App Shell</title>
  <link rel="icon" href="../assets/egg.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="../styles/styles.css" />
  <link rel="stylesheet" href="../styles/weather.css" />
  <script src="https://unpkg.com/feather-icons"></script>
  <script src="../modules/global.js"></script>
</head>
<body>

  <header>
    <a class="logo" href="../index.html">
      <img src="../assets/egg.svg" alt="logo" width="28" height="28" style="display:block">
      <span>Web App Shell</span>
    </a>
    <span style="margin-left: auto; display: flex; align-items: center; gap: 1rem;">
      <a href="https://github.com/DonnellyEarley" target="_blank" rel="noopener noreferrer" title="GitHub Profile" style="color: inherit; text-decoration: none; display: flex; align-items: center;"><i data-feather="github" style="width: 20px; height: 20px;"></i></a>
      <span style="color: inherit;">Donnelly Earley</span>
      <div class="settings-container">
        <button class="settings-btn" id="settingsBtn" title="Settings">
          <i data-feather="settings" style="width: 20px; height: 20px;"></i>
        </button>
        <div class="settings-popup" id="settingsPopup">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
            <span style="font-weight: 600; font-size: 0.95rem;">Settings</span>
            <button id="closePopupBtn" style="background: none; border: none; cursor: pointer; padding: 0; display: flex; align-items: center; color: inherit;">
              <i data-feather="x" style="width: 18px; height: 18px;"></i>
            </button>
          </div>
          <label class="toggle-option">
            <input type="checkbox" id="darkModeToggle">
            <span class="toggle-slider"></span>
            <span>Dark Mode</span>
          </label>
        </div>
      </div>
    </span>
  </header>

  <main class="weather-container">
    <div class="weather-header">
      <img src="../assets/weather.png" style="width: 50px;"/>
      <h1>Weather</h1>
      <p>Real-time weather information</p>
    </div>

    <section class="weather-search">
      <input 
        type="text" 
        id="searchInput" 
        placeholder="Enter city name (e.g., New York, London)" 
        class="search-box"
      />
      <button id="searchBtn" class="search-btn">Search</button>
      <button id="unitToggle" class="unit-toggle-btn">°F</button>
    </section>

    <section class="weather-content">
      <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>Loading weather data...</p>
      </div>

      <div id="error" class="error" style="display: none;"></div>

      <div id="weatherDisplay" class="weather-display" style="display: none;">
        <div class="current-weather">
          <div class="weather-main">
            <div class="location-name">
              <h2 id="cityName"></h2>
              <p id="date"></p>
            </div>
            <div class="temperature-display">
              <div class="temp">
                <span id="temperature" class="temp-value">--</span>
                <span id="tempUnit" class="temp-unit">°C</span>
              </div>
              <div class="weather-condition">
                <p id="weatherDesc"></p>
                <p id="feelsLike">Feels like <span id="feelsLikeTemp">--</span><span id="feelsLikeUnit">°C</span></p>
              </div>
            </div>
          </div>

          <div class="weather-details">
            <div class="detail-card">
              <div class="detail-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="5"></circle>
                  <line x1="12" y1="1" x2="12" y2="3"></line>
                  <line x1="12" y1="21" x2="12" y2="23"></line>
                  <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                  <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                  <line x1="1" y1="12" x2="3" y2="12"></line>
                  <line x1="21" y1="12" x2="23" y2="12"></line>
                  <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                  <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
              </div>
              <div class="detail-info">
                <p class="detail-label">Humidity</p>
                <p class="detail-value"><span id="humidity">--</span>%</p>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9.59 0.466C9.05 0.238 8.5 0.351 8.25 0.817 7.5 2.397 7.157 4.521 7.157 6.75 7.157 10.528 8.983 13.875 11.787 15.75 14.59 13.875 16.416 10.528 16.416 6.75 16.416 4.522 16.074 2.398 15.324 0.817 15.073 0.351 14.523 0.238 13.983 0.466 12.993 0.889 11.953 1.125 10.786 1.125 9.618 1.125 8.578 0.89 7.588 0.466M10.786 3.375C10.217 3.375 9.75 3.842 9.75 4.411 9.75 4.98 10.217 5.447 10.786 5.447 11.355 5.447 11.822 4.98 11.822 4.411 11.822 3.842 11.355 3.375 10.786 3.375"></path>
                </svg>
              </div>
              <div class="detail-info">
                <p class="detail-label">Wind Speed</p>
                <p class="detail-value"><span id="windSpeed">--</span> km/h</p>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M23 12a11.05 11.05 0 0 1-22 0 11.05 11.05 0 0 1 22 0z"></path>
                  <path d="M12 6v6l4 2"></path>
                </svg>
              </div>
              <div class="detail-info">
                <p class="detail-label">Pressure</p>
                <p class="detail-value"><span id="pressure">--</span> hPa</p>
              </div>
            </div>

            <div class="detail-card">
              <div class="detail-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>
                </svg>
              </div>
              <div class="detail-info">
                <p class="detail-label">UV Index</p>
                <p class="detail-value"><span id="uvIndex">--</span></p>
              </div>
            </div>
          </div>
        </div>

        <div class="forecast-section">
          <h3>7-Day Forecast</h3>
          <div class="forecast-grid" id="forecastGrid">
            <!-- Forecast cards will be inserted here -->
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="../modules/weather.js"></script>
</body>
</html>
